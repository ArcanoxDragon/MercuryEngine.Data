namespace MercuryEngine.Data.TegraTextureLib;

public enum XtxImageFormat : uint
{
	NvnFormatRGBA8     = 0x00000025,
	NvnFormatRGBA8Srgb = 0x00000038,
	NvnFormatRGB10A2   = 0x0000003d,
	NvnFormatRGB565    = 0x0000003c,
	NvnFormatRGB5A1    = 0x0000003b,
	NvnFormatRGBA4     = 0x00000039,
	NvnFormatR8        = 0x00000001,
	NvnFormatRG8       = 0x0000000d,
	DXT1               = 0x00000042,
	DXT3               = 0x00000043,
	DXT5               = 0x00000044,
	BC4U               = 0x00000049,
	BC4S               = 0x0000004a,
	BC5U               = 0x0000004b,
	BC5S               = 0x0000004c,
	BC6U               = 0x00000050,
	BC7U               = 0x0000004d,
	BGRA8              = 0x0000006d,
	Astc4x4Unorm       = 0x00000079,
	Astc5x4Unorm       = 0x0000007A,
	Astc5x5Unorm       = 0x0000007B,
	Astc6x5Unorm       = 0x0000007C,
	Astc6x6Unorm       = 0x0000007D,
	Astc8x5Unorm       = 0x0000007E,
	Astc8x6Unorm       = 0x0000007F,
	Astc8x8Unorm       = 0x00000080,
	Astc10x5Unorm      = 0x00000081,
	Astc10x6Unorm      = 0x00000082,
	Astc10x8Unorm      = 0x00000083,
	Astc10x10Unorm     = 0x00000084,
	Astc12x10Unorm     = 0x00000085,
	Astc12x12Unorm     = 0x00000086,
	Astc4x4Srgb        = 0x00000087,
	Astc5x4Srgb        = 0x00000088,
	Astc5x5Srgb        = 0x00000089,
	Astc6x5Srgb        = 0x0000008A,
	Astc6x6Srgb        = 0x0000008B,
	Astc8x5Srgb        = 0x0000008C,
	Astc8x6Srgb        = 0x0000008D,
	Astc8x8Srgb        = 0x0000008E,
	Astc10x5Srgb       = 0x0000008F,
	Astc10x6Srgb       = 0x00000090,
	Astc10x8Srgb       = 0x00000091,
	Astc10x10Srgb      = 0x00000092,
	Astc12x10Srgb      = 0x00000093,
	Astc12x12Srgb      = 0x00000094,
};

internal static class XtxImageFormatExtensions
{
	public static FormatTable.TextureFormat ToTextureFormat(this XtxImageFormat xtxFormat)
		=> xtxFormat switch {
			XtxImageFormat.DXT1               => FormatTable.TextureFormat.Bc1Unorm,
			XtxImageFormat.DXT3               => FormatTable.TextureFormat.Bc2Unorm,
			XtxImageFormat.DXT5               => FormatTable.TextureFormat.Bc3Unorm,
			XtxImageFormat.BC4U               => FormatTable.TextureFormat.Bc4Unorm,
			XtxImageFormat.BC4S               => FormatTable.TextureFormat.Bc4Snorm,
			XtxImageFormat.BC5U               => FormatTable.TextureFormat.Bc5Unorm,
			XtxImageFormat.BC5S               => FormatTable.TextureFormat.Bc5Snorm,
			XtxImageFormat.BC7U               => FormatTable.TextureFormat.Bc7UUnorm,
			XtxImageFormat.BC6U               => FormatTable.TextureFormat.Bc6HUf16Float,
			XtxImageFormat.NvnFormatR8        => FormatTable.TextureFormat.R8Unorm,
			XtxImageFormat.NvnFormatRG8       => FormatTable.TextureFormat.G8R8Unorm,
			XtxImageFormat.NvnFormatRGB10A2   => FormatTable.TextureFormat.A2B10G10R10Unorm,
			XtxImageFormat.NvnFormatRGB565    => FormatTable.TextureFormat.B5G6R5Unorm,
			XtxImageFormat.NvnFormatRGB5A1    => FormatTable.TextureFormat.A1B5G5R5Unorm,
			XtxImageFormat.NvnFormatRGBA4     => FormatTable.TextureFormat.A4B4G4R4Unorm,
			XtxImageFormat.NvnFormatRGBA8     => FormatTable.TextureFormat.A8B8G8R8Unorm,
			XtxImageFormat.NvnFormatRGBA8Srgb => FormatTable.TextureFormat.A8B8G8R8UnormSrgb,
			XtxImageFormat.Astc4x4Unorm       => FormatTable.TextureFormat.Astc2D4x4Unorm,
			XtxImageFormat.Astc5x4Unorm       => FormatTable.TextureFormat.Astc2D5x4Unorm,
			XtxImageFormat.Astc5x5Unorm       => FormatTable.TextureFormat.Astc2D5x5Unorm,
			XtxImageFormat.Astc6x5Unorm       => FormatTable.TextureFormat.Astc2D6x5Unorm,
			XtxImageFormat.Astc6x6Unorm       => FormatTable.TextureFormat.Astc2D6x6Unorm,
			XtxImageFormat.Astc8x5Unorm       => FormatTable.TextureFormat.Astc2D8x5Unorm,
			XtxImageFormat.Astc8x6Unorm       => FormatTable.TextureFormat.Astc2D8x6Unorm,
			XtxImageFormat.Astc8x8Unorm       => FormatTable.TextureFormat.Astc2D8x8Unorm,
			XtxImageFormat.Astc10x5Unorm      => FormatTable.TextureFormat.Astc2D10x5Unorm,
			XtxImageFormat.Astc10x6Unorm      => FormatTable.TextureFormat.Astc2D10x6Unorm,
			XtxImageFormat.Astc10x10Unorm     => FormatTable.TextureFormat.Astc2D10x10Unorm,
			XtxImageFormat.Astc12x10Unorm     => FormatTable.TextureFormat.Astc2D12x10Unorm,
			XtxImageFormat.Astc12x12Unorm     => FormatTable.TextureFormat.Astc2D12x12Unorm,
			XtxImageFormat.Astc4x4Srgb        => FormatTable.TextureFormat.Astc2D4x4UnormSrgb,
			XtxImageFormat.Astc5x4Srgb        => FormatTable.TextureFormat.Astc2D5x4UnormSrgb,
			XtxImageFormat.Astc5x5Srgb        => FormatTable.TextureFormat.Astc2D5x5UnormSrgb,
			XtxImageFormat.Astc6x5Srgb        => FormatTable.TextureFormat.Astc2D6x5UnormSrgb,
			XtxImageFormat.Astc6x6Srgb        => FormatTable.TextureFormat.Astc2D6x6UnormSrgb,
			XtxImageFormat.Astc8x5Srgb        => FormatTable.TextureFormat.Astc2D8x5UnormSrgb,
			XtxImageFormat.Astc8x6Srgb        => FormatTable.TextureFormat.Astc2D8x6UnormSrgb,
			XtxImageFormat.Astc8x8Srgb        => FormatTable.TextureFormat.Astc2D8x8UnormSrgb,
			XtxImageFormat.Astc10x5Srgb       => FormatTable.TextureFormat.Astc2D10x5UnormSrgb,
			XtxImageFormat.Astc10x6Srgb       => FormatTable.TextureFormat.Astc2D10x6UnormSrgb,
			XtxImageFormat.Astc10x10Srgb      => FormatTable.TextureFormat.Astc2D10x10UnormSrgb,
			XtxImageFormat.Astc12x10Srgb      => FormatTable.TextureFormat.Astc2D12x10UnormSrgb,
			XtxImageFormat.Astc12x12Srgb      => FormatTable.TextureFormat.Astc2D12x12UnormSrgb,

			_ => throw new ArgumentException($"Unrecognized XtxImageFormat: {xtxFormat}", nameof(xtxFormat)),
		};
}